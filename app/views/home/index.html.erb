<div class="content-wrapper">
<div class="row">

  <div class="col-lg-12 d-flex grid-margin stretch-card">
              <div class="card">
                <div class="card-body">
                  <div class="d-flex flex-wrap justify-content-between">
                    <h4 class="card-title mb-3"> Students</h4>
                    <button type="button" class="btn btn-success" data-toggle="modal" data-target="#promoteAllModal">
                    Promote All
                  </button>
 
                  </div>

                  <div class="table-responsive">
                    <table class="table">

                              <thead>
                                  <tr>

                                      <th scope="col">Name</th>
                                      <th scope="col">Class</th>
                                      <th scope="col"></th>
                                      <th scope="col"></th>
                                      <th scope="col"></th>


                                  </tr>
                              </thead>
                              <tbody>

      <% @students.each do |student| %>
    <tr scope="row">
      <td ><%= student.first_name + " " +student.last_name %></td>



      <td ><%= student.a_class.name if student.a_class %></td>
      <td ><%#= link_to 'Create Assessment',new_assessment_path(id:student.id),class: 'btn btn-success' %></td>
      <td ><%= link_to 'View Assessment',assessments_path(id:student.id),class: 'btn btn-danger' %></td>

      <td ><%= link_to 'Check Grade',grades_path(id:student.id),class: 'btn btn-warning' %></td>


      <td ><%= link_to 'Create Remark',new_remark_path(id:student.id),class: 'btn btn-primary' %></td>
      <td>
      <%= link_to 'Promote Student', '#', class: 'btn btn-info', data: { toggle: 'modal', target: "#myModal#{student.id}" } %>
      </td>

    </tr>
  <% end %>

                              </tbody>
                          </table>
               </div>
               <%= link_to 'New Student', new_student_path,class: "btn btn-primary" %>
                </div>
              </div>
            </div>
              
          </div>
        </div>

                
              <!--
              <div class="row">
                  <div class="col-lg-3 col-md-6">
                      <div class="card">
                          <div class="card-body">
                              <div class="stat-widget-five">
                                  <div class="stat-icon dib flat-color-1">
                                      <i class="pe-7s-cash"></i>
                                  </div>
                                  <div class="stat-content">
                                      <div class="text-left dib">
                                          <div class="stat-text">$<span class="count">23569</span></div>
                                          <div class="stat-heading">Revenue</div>
                                      </div>
                                  </div>
                              </div>
                          </div>
                      </div>
                  </div>

                  <div class="col-lg-3 col-md-6">
                      <div class="card">
                          <div class="card-body">
                              <div class="stat-widget-five">
                                  <div class="stat-icon dib flat-color-2">
                                      <i class="pe-7s-cart"></i>
                                  </div>
                                  <div class="stat-content">
                                      <div class="text-left dib">
                                          <div class="stat-text"><span class="count">3435</span></div>
                                          <div class="stat-heading">Sales</div>
                                      </div>
                                  </div>
                              </div>
                          </div>
                      </div>
                  </div>

                  <div class="col-lg-3 col-md-6">
                      <div class="card">
                          <div class="card-body">
                              <div class="stat-widget-five">
                                  <div class="stat-icon dib flat-color-3">
                                      <i class="pe-7s-browser"></i>
                                  </div>
                                  <div class="stat-content">
                                      <div class="text-left dib">
                                          <div class="stat-text"><span class="count">349</span></div>
                                          <div class="stat-heading">Templates</div>
                                      </div>
                                  </div>
                              </div>
                          </div>
                      </div>
                  </div>

                  <div class="col-lg-3 col-md-6">
                      <div class="card">
                          <div class="card-body">
                              <div class="stat-widget-five">
                                  <div class="stat-icon dib flat-color-4">
                                      <i class="pe-7s-users"></i>
                                  </div>
                                  <div class="stat-content">
                                      <div class="text-left dib">
                                          <div class="stat-text"><span class="count">2986</span></div>
                                          <div class="stat-heading">Clients</div>
                                      </div>
                                  </div>
                              </div>
                          </div>
                      </div>
                  </div>
              </div>
               -->

         
               <% @students.each do |student| %>
                  <!-- Modal for each student -->
                  <div class="modal fade" id="myModal<%= student.id %>" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                    <div class="modal-dialog" role="document">
                      <div class="modal-content">
                        <div class="modal-header">
                          <h5 class="modal-title" id="exampleModalLabel">Promote Student: <%= student.first_name + " " + student.last_name %></h5>
                          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                          </button>
                        </div>
                        <div class="modal-body">
                          <%= render 'promote_form', student: student %>
                        </div>
                        <div class="modal-footer">
                          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                          <!-- You can add additional buttons if needed -->
                        </div>
                      </div>
                    </div>
                  </div>
                <% end %>





  <!-- Modal for Promote All -->
<div class="modal fade" id="promoteAllModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Promote All Students</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <%= render 'promote_all_form' %>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <!-- You can add additional buttons if needed -->
      </div>
    </div>
  </div>
</div>
                